# SimpleChain

SimpleChain은 블록체인의 기본 원리를 이해하기 위해 파이썬으로 구현된 간단한 블록체인 프로젝트입니다. 이 프로젝트에서는 블록의 생성, 채굴(작업 증명), 블록체인의 유효성 검사 등 블록체인의 주요 기능을 직접 체험할 수 있습니다.

## 프로젝트 구조

- **`Block`**: 블록을 나타내는 클래스입니다. 블록 번호, 이전 블록의 해시, 타임스탬프, 데이터, 논스, 해시 값을 포함합니다.
- **`Blockchain`**: 블록체인을 나타내는 클래스입니다. 제네시스 블록 생성, 블록 추가, 채굴, 블록체인의 유효성 검사, 난이도 조절 등의 기능을 제공합니다.

## 주요 개념

### 1. 해시(Hash)
해시는 데이터를 고정된 길이의 무작위한 문자열로 변환하는 함수입니다. 이 과정은 매우 빠르며, 입력이 조금만 바뀌어도 해시 값은 크게 변합니다.

예를 들어, `"hello"`라는 문자열을 해시 함수에 넣으면 `"2cf24dba5fb0a30e26e83b2ac5b9e29e1b161e5c"` 같은 고유한 해시 값이 생성됩니다. 블록의 해시는 블록 내의 데이터를 모두 조합하여 생성되며, 블록의 고유한 식별자 역할을 합니다.

### 2. 논스(Nonce)
논스는 "number only used once"의 줄임말로, 블록의 해시 값을 변경하기 위해 사용되는 임의의 숫자입니다. 채굴 과정에서 이 값을 하나씩 증가시키며 올바른 해시 값을 찾습니다.

#### 예시:
채굴자는 블록의 데이터를 조합해 해시를 계산하는데, 특정 조건(예: 해시가 '0'으로 시작해야 함)을 만족하지 않으면 논스 값을 1씩 증가시켜 다시 해시를 계산합니다. 이 과정을 반복하여 조건을 만족하는 해시 값을 찾습니다.

### 3. 작업 증명(Proof of Work)
작업 증명은 블록체인 네트워크에서 새로운 블록을 추가하기 위해 필요한 계산 작업입니다. 채굴자는 특정 조건을 만족하는 해시 값을 찾기 위해 많은 계산을 수행해야 합니다. 이 과정은 네트워크의 보안을 강화하고 블록 생성 속도를 일정하게 유지하는 역할을 합니다.

#### 왜 작업 증명이 중요한가?
작업 증명을 통해 블록을 추가하기 위해서는 채굴자가 상당한 계산 작업을 수행해야 합니다. 이는 네트워크를 공격하거나 조작하려는 악의적인 사용자가 블록을 임의로 생성하는 것을 어렵게 만듭니다. 즉, 작업 증명은 네트워크의 신뢰성을 유지하는 핵심 요소입니다.

### 4. 채굴(Mining)
채굴은 블록의 해시 값이 특정 조건(난이도)을 만족하도록 만드는 과정입니다. 채굴자는 논스 값을 변경하며 해시를 반복적으로 계산하여 목표 해시를 찾습니다. 목표 해시는 보통 해시 값이 "0"으로 시작하는 조건을 만족해야 합니다.

#### 왜 '0'으로 시작하는 해시를 찾는가?
이 조건은 작업 증명을 구현하기 위한 방법입니다. 해시 값이 '0'으로 시작하도록 만드는 것은 매우 어렵기 때문에, 많은 연산 작업이 필요합니다. 이를 통해 블록을 채굴하려면 상당한 계산력이 필요하다는 것을 증명하게 됩니다.

### 5. 논스 중복과 리소스 낭비
여러 채굴자가 비동기적으로 작업 증명을 수행하는 과정에서, 동일한 논스 값을 사용해 해시를 계산하는 경우가 발생할 수 있습니다. 이 경우 동일한 해시 값을 얻게 되므로, 리소스가 낭비된다고 볼 수 있습니다. 그러나 채굴 풀(Pool)과 같은 방법을 통해 논스 값을 분배하여 중복된 작업을 줄일 수 있습니다.

#### 예시:
비트코인 네트워크에서 채굴자들이 같은 논스 값을 사용해도 블록의 다른 요소(예: 타임스탬프, 트랜잭션 순서 등)가 변할 수 있기 때문에, 결과적으로 다른 해시 값을 얻을 가능성이 큽니다. 이는 리소스 낭비를 어느 정도 경감할 수 있습니다.

## 프로그램 실행 방법

### 1. 프로그램 시작
프로그램을 실행하면 블록체인이 초기화되고, 메뉴가 표시됩니다. 사용자는 메뉴를 통해 블록 추가, 블록체인 보기, 블록 데이터 변조, 블록체인 유효성 검사, 난이도 조절 등을 수행할 수 있습니다.

### 2. 블록 추가
블록을 추가할 때 사용자는 블록에 저장할 데이터를 입력합니다. 입력된 데이터와 기타 블록 정보는 해시로 변환되며, 목표 해시를 찾기 위한 채굴 과정이 시작됩니다.

### 3. 채굴 과정
채굴 과정에서 논스 값을 조정하며 특정 조건을 만족하는 해시 값을 찾습니다. 채굴은 난이도가 높을수록 오래 걸리며, 중간에 `Ctrl + C`를 눌러 채굴을 중단할 수 있습니다. 중단 시 채굴은 실패하며 메뉴로 돌아갑니다.

#### 예시:
난이도가 4인 경우, 해시 값이 "0000"으로 시작해야 블록이 유효한 것으로 간주됩니다. 이를 찾기 위해 채굴자는 논스 값을 변경하며 수많은 해시를 계산하게 됩니다.

### 4. 난이도 조절
사용자는 난이도를 조절할 수 있습니다. 난이도가 높을수록 블록을 채굴하는 데 필요한 연산이 증가합니다. 난이도가 높아지면 해시가 "0000"으로 시작해야 하는 조건이 더 엄격해져, 채굴이 더 어려워집니다.

#### 비트코인과 비교:
비트코인의 경우 난이도는 매우 높아서, 블록을 채굴하는 데 엄청난 계산력이 필요합니다. 예를 들어, 비트코인의 난이도는 약 54조 정도로, 이는 단일 채굴자가 블록을 채굴하는 것을 매우 어렵게 만듭니다.

### 5. 블록체인 유효성 검사
블록체인에 추가된 모든 블록이 올바른지, 블록 간의 연결이 유효한지를 확인합니다. 유효하지 않은 블록이 발견되면, 블록체인은 무효로 간주됩니다.

### 6. 채굴 중단 (Keyboard Interrupt)
채굴 중 `Ctrl + C`를 눌러 채굴을 중단할 수 있습니다. 중단된 경우 해당 블록의 채굴은 실패하며, 다시 메뉴로 돌아갑니다. 이 기능은 채굴에 너무 오랜 시간이 걸릴 때 유용합니다.

## 요구사항

- Python 3.x

## 실행 예시

```bash
python simple_chain.py
```

## 주의사항

- 이 프로젝트는 학습 목적으로 만들어졌으며, 실제 블록체인 네트워크에서 사용되지 않습니다.
- 채굴 중 중단(Ctrl + C)을 하면 채굴이 실패하고, 메뉴로 돌아갑니다.
- 높은 난이도 설정 시 채굴 시간이 매우 길어질 수 있습니다. 적절한 난이도를 선택하세요.

## 기여

기여를 원하신다면, 이 저장소를 포크하고 Pull Request를 제출해 주세요.

## 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.